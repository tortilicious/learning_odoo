.. image:: https://odoo-community.org/readme-banner-image
   :target: https://odoo-community.org/get-involved?utm_source=readme
   :alt: Odoo Community Association

============================
Account payment notification
============================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:889cf695f8b7e15e8a60aa4325b570dd4bbc129f7818eb68987acd508d4ffd78
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/license-LGPL--3-blue.png
    :target: http://www.gnu.org/licenses/lgpl-3.0-standalone.html
    :alt: License: LGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Faccount--payment-lightgray.png?logo=github
    :target: https://github.com/OCA/account-payment/tree/18.0/account_payment_notification
    :alt: OCA/account-payment
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/account-payment-18-0/account-payment-18-0-account_payment_notification
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/account-payment&target_branch=18.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This module lets you notify partners about sent payment or debit orders.

You can do that by e-mail and/or by SMS. It is automated by default.

**Table of contents**

.. contents::
   :local:

Configuration
=============

To configure automatic notifications, you need to:

1. Go to *Settings*.
2. Go to *Invoicing*.
3. Choose if you want to *Require payment notifications*.
4. Select the desired *Payment notification method*.
5. Select the desired *Payment notifications automatism*.

.. note::

   Automated notifications will be sent or queued when the payment is
   marked as *sent*, not as *paid*. A *sent* payment is one that has
   been sent to the bank, while a *paid* payment is one that has been
   reconciled with a bank statement.

Usage
=====

To send notifications manually, you need to:

1. Go to *Invoicing* or *Accounting* app.
2. Go to *Customers > Payments* or *Vendors > Payments*.
3. Select one or more payments.
4. Click on *Action*.
5. Select *Notify partners*.

Odoo will use your preferred notification method, as defined in
configuration (see that section), to notify all the chosen partners.

.. tip::

   You have new filters in the payments list. Use them to select those
   that have (or not) email or mobile phone.

Both email and SMS notifications are put in outgoing queues if done
massively. In that case, they will be cleared automatically when their
corresponding cron jobs are executed.

.. warning::

   `Sending SMS is a paid
   service <https://www.odoo.com/documentation/15.0/applications/marketing/sms_marketing/pricing/pricing_and_faq.html>`__.

If you do that same operation from a payment form view, you will have
the option to choose between sending an email or an SMS. You will be
able to edit the template before sending it.

.. note::

   Sometimes notifications will be registered as notes, and sometimes as
   messages, depending on whether they are sent in bulk or individually.
   In any case, they are notified to the partner.

To send notifications automatically, you need to:

1. Go to *Invoicing* or *Accounting* app.
2. Go to *Customers > Payments* or *Vendors > Payments*.
3. Open one paymnt.
4. Click on *Mark as Sent*.

.. tip::

   Odoo EE has a module named ``account_batch_payment`` that automates
   that. If you use it, payment notifications will be queued when sent.

Known issues / Roadmap
======================

- Multiple SMS notifications to the same partner cannot be sent in
  batch. Always group payments before notifying. Odoo considers these
  SMS as duplicated and avoids sending more than one per batch. This
  behavior is hardcoded.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/account-payment/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/account-payment/issues/new?body=module:%20account_payment_notification%0Aversion:%2018.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
-------

* Moduon

Contributors
------------

- Rafael Blasco (`Moduon <https://www.moduon.team/>`__)
- Jairo Llopis (`Moduon <https://www.moduon.team/>`__)

Maintainers
-----------

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

.. |maintainer-yajo| image:: https://github.com/yajo.png?size=40px
    :target: https://github.com/yajo
    :alt: yajo
.. |maintainer-rafaelbn| image:: https://github.com/rafaelbn.png?size=40px
    :target: https://github.com/rafaelbn
    :alt: rafaelbn

Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:

|maintainer-yajo| |maintainer-rafaelbn| 

This module is part of the `OCA/account-payment <https://github.com/OCA/account-payment/tree/18.0/account_payment_notification>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
